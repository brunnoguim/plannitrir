import styled from 'styled-components'
import domtoimage from 'dom-to-image'

interface Props {
  width: string,
}

const Icon = styled.svg<Props>`
  flex: none;
  width: ${(props) => props.width};
  transition: 0.1s;
  background-color: transparent;
  cursor: pointer;
  position: absolute;
  bottom: 28px;
  right: 16px;
  z-index: 5;
  fill: #00b975;
  &:hover{
    fill: #00925d;
    bottom: 30px;
    right: 13px;
  }
`

export const Download = ({ width }) => {

  const handleDownload = () => {
    domtoimage.toJpeg(document.getElementById('planner'), { quality: 1 })
      .then(function (dataUrl) {
        var link = document.createElement('a');
        link.download = 'planner.jpeg'
        link.href = dataUrl
        link.click()
      })
  }

  return (
    <Icon onClick={handleDownload} width={width} viewBox="0 0 512.000000 512.000000">
      <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" stroke="none">
        <path d="M2239 5057 c-24 -13 -53 -39 -64 -58 -19 -33 -20 -48 -16 -363 l3
-329 -72 61 c-126 106 -194 114 -361 44 -52 -22 -258 -110 -459 -195 -612
-260 -810 -343 -930 -391 -290 -116 -365 -199 -299 -327 11 -22 107 -129 212
-238 106 -108 212 -218 236 -243 l44 -47 -205 -208 c-300 -305 -328 -347 -294
-437 32 -83 106 -132 340 -221 l161 -62 0 -534 0 -534 28 -57 c16 -32 40 -66
55 -77 55 -38 360 -170 982 -421 228 -93 469 -193 535 -223 152 -69 327 -133
385 -142 38 -5 63 0 155 33 61 22 160 62 220 89 61 28 254 110 430 183 176 73
376 156 445 185 69 29 233 98 365 153 132 55 258 108 280 117 69 30 124 76
147 124 22 46 22 49 23 580 l0 534 195 83 c213 91 264 121 291 174 26 48 25
125 -2 175 -12 22 -121 143 -243 268 -121 126 -222 232 -223 235 -2 4 99 113
222 242 136 141 234 252 246 278 42 86 13 197 -65 250 -17 11 -402 177 -856
369 -805 339 -827 347 -890 347 -83 -1 -134 -25 -222 -104 l-66 -60 -4 333
c-4 378 -5 383 -81 418 -38 17 -69 19 -323 19 -275 0 -282 0 -325 -23z m580
-82 c13 -12 34 -162 25 -177 -2 -3 -4 -250 -4 -547 0 -298 -4 -541 -8 -541 -4
-1 -25 -17 -47 -36 l-40 -36 42 26 c24 14 45 26 48 26 3 0 5 -47 5 -105 0
-101 -1 -105 -27 -131 -23 -21 -24 -24 -6 -15 32 16 33 16 33 -48 0 -53 -3
-62 -29 -84 -16 -13 -47 -27 -68 -30 -53 -9 -79 -29 -68 -53 4 -10 7 -23 6
-27 -1 -4 7 -3 18 3 34 18 201 10 201 -10 0 -4 -12 -13 -28 -19 -15 -6 -41
-23 -57 -37 -30 -26 -30 -26 20 2 108 61 117 64 173 57 88 -10 92 -21 25 -71
-32 -23 -71 -54 -88 -69 l-30 -26 35 20 c19 11 58 32 85 48 41 23 5 -17 -200
-224 -137 -138 -257 -251 -267 -251 -9 0 -47 28 -84 63 l-67 64 71 57 c40 32
72 60 72 63 0 3 -24 -9 -52 -27 -29 -17 -68 -38 -86 -47 l-33 -17 -35 35 -35
36 48 38 c66 53 74 62 33 38 -19 -11 -50 -29 -68 -39 l-32 -18 -36 36 -36 36
111 92 c61 51 111 94 111 96 0 1 -59 -32 -131 -73 l-131 -76 -35 35 -35 35 51
37 c28 21 51 40 51 42 0 3 -27 -10 -59 -28 l-60 -33 -26 25 c-56 52 -53 91 8
105 23 6 26 5 21 -10 -6 -16 -5 -16 17 -4 13 7 42 14 64 16 185 12 235 19 251
35 9 9 14 24 11 32 -5 13 -23 16 -87 16 l-80 0 0 53 c0 49 2 54 42 90 42 37
42 37 8 17 -19 -11 -38 -20 -42 -20 -4 0 -8 346 -8 768 0 602 3 771 12 784 18
23 31 23 288 20 171 -3 228 -7 239 -17z m-922 -585 c18 -11 83 -69 145 -129
l113 -109 -2 -168 c0 -93 -2 -198 -2 -234 l-1 -65 -185 -80 c-102 -44 -198
-82 -213 -85 -15 -3 -67 -26 -117 -51 -49 -26 -225 -105 -390 -177 -165 -71
-331 -144 -368 -161 -38 -17 -78 -31 -89 -31 -12 0 -51 -16 -87 -37 l-65 -36
-119 124 c-338 353 -367 390 -367 464 0 36 30 88 64 110 24 16 287 129 806
345 157 66 400 169 540 229 140 61 266 111 280 111 14 0 40 -9 57 -20z m1543
-77 c85 -35 241 -101 345 -145 334 -140 368 -154 495 -208 250 -106 336 -142
410 -172 153 -62 213 -93 246 -130 40 -44 45 -95 16 -143 -22 -36 -245 -276
-363 -392 l-84 -81 -755 328 c-415 181 -761 332 -768 337 -10 6 -13 60 -14
232 l-1 224 101 99 c106 103 150 131 192 122 14 -3 95 -35 180 -71z m-1290
-707 l0 -34 -376 -217 c-207 -119 -377 -215 -379 -213 -2 2 71 64 163 138 91
74 182 150 201 169 29 26 222 121 389 190 1 1 2 -14 2 -33z m844 -2 c21 -8 20
-17 -4 -32 -18 -11 -20 -10 -20 13 0 27 1 28 24 19z m155 -68 c24 -13 22 -15
-72 -70 -93 -55 -117 -61 -117 -31 0 14 137 115 155 115 6 -1 21 -7 34 -14z
m166 -72 l37 -15 -138 -80 c-119 -69 -143 -80 -178 -77 l-41 3 130 92 c72 50
135 91 141 92 6 1 28 -6 49 -15z m165 -73 c-1 -11 -271 -162 -283 -158 -20 6
242 175 264 170 10 -3 19 -8 19 -12z m110 -50 c0 -10 -210 -134 -217 -127 -4
4 198 136 210 136 4 0 7 -4 7 -9z m118 -49 c9 -6 -37 -37 -138 -95 -83 -48
-154 -87 -158 -87 -7 0 269 188 278 189 3 0 11 -3 18 -7z m126 -62 c-16 -16
-287 -171 -291 -166 -7 7 262 176 282 176 13 0 16 -3 9 -10z m-2615 -4 c-2 -2
-94 -56 -204 -120 -196 -113 -200 -115 -203 -89 -2 14 1 30 7 36 5 5 95 47
198 93 170 74 215 92 202 80z m2766 -53 c19 -9 35 -19 35 -23 0 -3 -35 -26
-77 -50 -43 -24 -204 -116 -358 -205 -302 -175 -335 -193 -320 -177 18 18 667
472 676 472 5 0 24 -8 44 -17z m-2685 2 c0 -9 -343 -285 -355 -285 -20 0 -88
31 -81 37 5 5 428 252 434 253 1 0 2 -2 2 -5z m2840 -69 c0 -3 -134 -83 -175
-104 -26 -13 17 20 80 62 61 40 95 55 95 42z m105 -55 c-6 -11 -108 -71 -120
-71 -14 0 99 79 113 80 7 0 11 -4 7 -9z m-2300 -20 c-34 -31 -511 -351 -524
-351 -9 1 -27 7 -40 14 -19 10 -21 15 -10 22 88 56 558 323 569 323 8 1 10 -2
5 -8z m2353 -112 c-7 -5 -87 -41 -178 -80 -91 -40 -190 -83 -220 -96 -88 -39
-49 -13 185 121 l220 126 3 -31 c2 -19 -2 -35 -10 -40z m-2248 7 c-32 -30
-460 -316 -472 -316 -7 1 -23 6 -35 13 -21 12 -4 23 240 164 247 143 301 171
267 139z m2631 -183 c107 -109 215 -225 239 -257 39 -51 45 -66 45 -107 0 -57
-24 -94 -81 -126 -21 -12 -142 -65 -269 -118 -126 -54 -360 -153 -520 -220
-692 -293 -795 -335 -827 -335 -54 0 -67 11 -401 334 l-229 220 39 19 c71 37
626 277 640 277 7 0 53 20 101 44 115 58 895 396 914 396 8 0 43 16 78 35 36
19 68 35 71 35 3 0 93 -89 200 -197z m-3790 68 c151 -65 321 -140 379 -166 58
-25 141 -62 185 -80 44 -18 157 -67 250 -108 94 -41 186 -82 205 -90 390 -168
571 -250 567 -257 -10 -21 -532 -513 -553 -520 -46 -18 -75 -11 -238 59 -229
99 -471 200 -1166 491 -342 143 -359 154 -367 247 -3 39 1 57 24 96 28 48 409
444 429 446 5 1 134 -52 285 -118z m199 49 c-24 -19 -40 -25 -40 -15 0 5 51
34 60 34 3 0 -6 -8 -20 -19z m107 -46 c-21 -14 -41 -24 -43 -21 -6 5 57 47 71
47 5 0 -8 -12 -28 -26z m970 10 c1 -5 -90 -73 -203 -151 l-205 -141 -40 16
c-22 8 -36 19 -32 23 19 18 459 268 467 266 6 -2 11 -7 13 -13z m-882 -64 c-3
-5 -12 -10 -18 -10 -7 0 -6 4 3 10 19 12 23 12 15 0z m980 -39 c-6 -5 -91 -62
-190 -128 -108 -71 -187 -117 -198 -115 -10 2 -17 8 -15 13 2 6 91 61 198 124
177 103 232 131 205 106z m850 -10 c-20 -17 -660 -463 -673 -468 -17 -7 -95
28 -85 38 10 10 755 439 762 439 3 0 1 -4 -4 -9z m315 -115 c0 -2 -30 -26 -67
-52 -38 -26 -72 -54 -78 -61 -9 -10 -50 -30 -215 -100 -61 -26 -27 -4 167 108
196 113 193 112 193 105z m-1225 -45 c-30 -28 -199 -130 -207 -125 -12 8 -19
3 102 73 103 60 124 70 105 52z m205 5 c0 -2 -63 -45 -140 -96 -88 -58 -144
-90 -150 -84 -6 6 46 42 138 96 153 91 152 90 152 84z m130 -50 c0 -9 -281
-186 -295 -186 -33 0 -8 19 138 102 157 91 157 91 157 84z m103 -261 c-46 -30
-88 -55 -95 -55 -20 0 4 19 84 66 103 60 108 54 11 -11z m-152 -956 c1 -387 0
-800 0 -917 l-1 -213 -22 6 c-13 3 -48 17 -78 30 -30 13 -89 38 -130 55 -41
17 -95 40 -120 50 -25 11 -72 30 -105 43 -33 14 -112 46 -175 72 -63 25 -143
60 -177 76 -35 16 -67 29 -73 29 -5 0 -50 18 -99 40 -49 22 -92 40 -95 40 -4
0 -36 14 -71 30 -35 17 -68 30 -74 30 -5 0 -31 11 -58 24 -26 14 -66 31 -88
39 -22 8 -116 47 -210 86 -185 77 -224 106 -244 178 -7 24 -11 209 -11 521 l0
482 58 -28 c31 -16 73 -34 92 -42 19 -7 53 -21 75 -31 22 -10 166 -72 320
-137 154 -66 332 -143 396 -171 205 -91 324 -91 439 0 54 43 322 293 399 373
25 25 46 44 49 42 2 -2 3 -321 3 -707z m1964 -307 c-12 -99 -43 -120 -410
-262 -110 -43 -279 -111 -375 -152 -96 -42 -276 -117 -400 -168 -124 -51 -299
-124 -390 -162 -91 -38 -186 -78 -212 -88 l-48 -20 1 930 1 929 230 -219 c126
-120 246 -226 266 -236 53 -26 147 -30 218 -9 32 9 108 39 168 67 61 27 248
108 416 178 168 71 357 152 420 179 l115 50 3 -482 c2 -265 0 -506 -3 -535z"/>
      </g>
    </Icon >
  )
}
